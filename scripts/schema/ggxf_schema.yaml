  # Attributes required for all content types:

CommonAttributes:
  GGXF:
    - AttributeName: ggxfVersion
      Type: ["GGXF-1.0"]
    - AttributeName: content
      Type: str
    - AttributeName: title
      Type: str
      Optional: false
    - AttributeName: abstract
      Type: str
      Optional: false
    - AttributeName: filename
      Type: str
    - AttributeName: contentApplicabilityExtent
      Type: Extents
    - AttributeName: contentBox
      Type: BoundingBox
      Optional: true
    - AttributeName: parameters
      Type: list(Parameter)
    - AttributeName: interpolationCrsWkt
      Type: str
    - AttributeName: sourceCrsWkt
      Type: str
      Optional: true
    - AttributeName: targetCrsWkt
      Type: str
      Optional: true
    - AttributeName: license
      Type: str
      Optional: true
    - AttributeName: operationAccuracy
      Type: float
      Optional: true
    - AttributeName: publicationDate
      Type: str
      Optional: true
    - AttributeName: version
      Type: str
      Optional: true
    - AttributeName: digitalObjectIdentifier
      Type: str
      Optional: true
    - AttributeName: partyName
      Type: str
      Optional: true
    - AttributeName: electronicMailAddress
      Type: str
      Optional: true
    - AttributeName: onlineResourceLinkage
      Type: str
      Optional: true
    - AttributeName: deliveryPoint
      Type: str
      Optional: true
    - AttributeName: comment
      Type: str
      Optional: true
    - AttributeName: tideSystem
      Comment: What content types use this parameter.  Should it be contentType specific
      Type: str
      Optional: true
    - AttributeName: uncertaintyMeasure
      Type: str
      Optional: true
    - AttributeName: uncertaintyDefault
      Type: str
      Optional: true
      Comment: What type should this be?
    - AttributeName: userDefinedMethodExample
      Type: str
      Optional: true
    - AttributeName: userDefinedMethodFormula
      Type: str
      Optional: true
    - AttributeName: userDefinedMethodFormulaCitation
      Type: str
      Optional: true
      Comment: What type should this be?

  Group:
    - AttributeName: groupParameters
      Type: list(str)
      Optional: true
    - AttributeName: interpolationMethod
      Type: [bilinear, bicubic, biquadratic]
    - AttributeName: interpolationMethodCitation
      Type: str
      Optional: true
    - AttributeName: comment
      Type: str
      Optional: true
    - AttributeName: uncertaintyDefault
      Type: str
      Optional: true

  Grid:
    - AttributeName: iNodeCount
      Type: int
    - AttributeName: jNodeCount
      Type: int
    - AttributeName: kNodeCount
      Type: int
      Optional: true
    - AttributeName: affineCoeffs
      Type: list(float,6)
    - AttributeName: comment
      Type: str
      Optional: true

  Parameter:
    # What is optional in for units?
    - AttributeName: parameterName
      Type: str
    - AttributeName: parameterSet
      Type: str
      Optional: true
    - AttributeName: unitSiRatio
      Type: float
    - AttributeName: unit
      Type: str
    - AttributeName: sourceCrsAxis
      Type: int
      Optional: true      
    - AttributeName: parameterMinimumValue
      Type: float
      Optional: true
    - AttributeName: parameterMaximumValue
      Type: float
      Optional: true
    - AttributeName: noDataFlag
      Comment: Should this also be of type float?
      Type: any
      Optional: true

  Extents:
    - AttributeName: boundingBox
      Type: BoundingBox
    - AttributeName: extentDescription
      Comment: Should this be optional
      Type: str
      Optional: true
    - AttributeName: boundingPolygon
      Type: str
      Optional: true
    - AttributeName: temporalExtent
      Type: TemporalExtent
      Optional: true
    - AttributeName: verticalExtent
      Type: VerticalExtent
      Optional: true

  BoundingBox:
    - AttributeName: southBoundLatitude
      Type: float
    - AttributeName: westBoundLongitude
      Type: float
    - AttributeName: northBoundLatitude
      Type: float
    - AttributeName: eastBoundLongitude
      Type: float

  TemporalExtent:
    - AttributeName: startDate
      Type: str
    - AttributeName: endDate
      Type: str

  VerticalExtent:
    - AttributeName: verticalExtentCrsWkt
      Type: str
      Optional: true
    - AttributeName: verticalExtentMinimum
      Type: float
    - AttributeName: verticalExtentMaximum
      Type: float

  TimeFunction:
    - AttributeName: functionType
      Type: [velocity, step, ramp, acceleration, exponential, logarithmic, hyperbolicTangent, cyclic]
    - AttributeChoice:
          AttributeChoiceName: startEpoch
          Attributes:
          - AttributeName: startEpoch
            Type: float
          - AttributeName: startDate
            Type: str
      Optional: true
    - AttributeChoice:
          AttributeChoiceName: endEpoch
          Attributes:
          - AttributeName: endEpoch
            Type: float
          - AttributeName: endDate
            Type: str
      Optional: true
    - AttributeChoice:
          AttributeChoiceName: functionReferenceEpoch
          Attributes:
          - AttributeName: functionReferenceEpoch
            Type: float
          - AttributeName: functionReferenceDate
            Type: str
      Optional: true
    - AttributeChoice:
        AttributeChoiceName: eventEpoch
        Attributes:
        - AttributeName: eventEpoch
          Type: float
        - AttributeName: eventDate
          Type: str
      Optional: true
    - AttributeName: scaleFactor
      Type: float
      Optional: true
    - AttributeName: timeConstant
      Type: float
      Optional: true
    - AttributeName: frequency
      Type: float
      Optional: true

YamlAttributes:
    GGXF:
    - AttributeName: ggxfGroups
      Type: list
    - AttributeName: gridData
      Type: list(YamlGridData)
      Optional: true

    Group:
    - AttributeName: ggxfGroupName
      Type: UnicodeIdentifier
    - AttributeName: grids
      Type: list

    Grid:
    - AttributeName: gridName
      Type: UnicodeIdentifier
    - AttributeName: grids
      Type: list
      Optional: true
    - AttributeChoice:
        AttributeChoiceName: dataSource
        Attributes:
        - AttributeName: data
          Type: any
          Comment: >
            Type is "any" as gets converted to numpy grid. Tested specifically in
            implementation rather than depending on schema definition.
        - AttributeName: dataSource
          Type: str

    YamlGridData:
    - AttributeName: gridName
      Type: UnicodeIdentifier
    - AttributeChoice:
        AttributeChoiceName: dataSource
        Attributes:
        - AttributeName: data
          Type: any
        - AttributeName: dataSource
          Type: str

ContentTypes:
  - ContentType: Cartesian2dOffsets
    ParameterSets:
    - Parameters:
        - eastingOffset
        - northingOffset
        - eastingOffsetUncertainty
        - northingOffsetUncertainty
    - Parameters:
        - westingOffset
        - northingOffset
        - westingOffsetUncertainty
        - northingOffsetUncertainty
    - Parameters:
        - eastingOffset
        - southingOffset
        - eastingOffsetUncertainty
        - southingOffsetUncertainty
    - Parameters:
        - westingOffset
        - southingOffset
        - westingOffsetUncertainty
        - southingOffsetUncertainty
  - ContentType: Cartesian3dOffsets
    ParameterSets:
    - Parameters:
        - eastingOffset
        - northingOffset
        - heightOffset
        - eastingOffsetUncertainty
        - northingOffsetUncertainty
        - heightOffsetUncertainty
    - Parameters:
        - westingOffset
        - northingOffset
        - heightOffset
        - westingOffsetUncertainty
        - northingOffsetUncertainty
        - heightOffsetUncertainty
    - Parameters:
        - eastingOffset
        - southingOffset
        - heightOffset
        - eastingOffsetUncertainty
        - southingOffsetUncertainty
        - heightOffsetUncertainty
    - Parameters:
        - westingOffset
        - southingOffset
        - heightOffset
        - westingOffsetUncertainty
        - southingOffsetUncertainty
        - heightOffsetUncertainty
    - Parameters:
        - eastingOffset
        - northingOffset
        - depthOffset
        - eastingOffsetUncertainty
        - northingOffsetUncertainty
        - depthOffsetUncertainty
    - Parameters:
        - westingOffset
        - northingOffset
        - depthOffset
        - westingOffsetUncertainty
        - northingOffsetUncertainty
        - depthOffsetUncertainty
    - Parameters:
        - eastingOffset
        - southingOffset
        - depthOffset
        - eastingOffsetUncertainty
        - southingOffsetUncertainty
        - depthOffsetUncertainty
    - Parameters:
        - westingOffset
        - southingOffset
        - depthOffset
        - westingOffsetUncertainty
        - southingOffsetUncertainty
        - depthOffsetUncertainty

  - ContentType: geocentricTranslations
    ParameterSets:
    - Parameters:
        - geocentricXOffset
        - geocentricYOffset
        - geocentricZOffset
        - geocentricXOffsetUncertainty
        - geocentricYOffsetUncertainty
        - geocentricZOffsetUncertainty
  - ContentType: geographic2dOffsets
    ParameterSets:
    - Parameters:
        - latitudeOffset
        - longitudeOffset
        - latitudeOffsetUncertainty
        - longitudeOffsetUncertainty
  - ContentType: geographic3dOffsets
    ParameterSets:
    - Parameters:
        - latitudeOffset
        - longitudeOffset
        - ellipsoidalHeightOffset
        - latitudeOffsetUncertainty
        - longitudeOffsetUncertainty
        - ellipsoidalHeightOffsetUncertainty
  - ContentType: verticalOffsets
    ParameterSets:
    - Parameters:
        - heightOffset
        - heightOffsetUncertainty
    - Parameters:
        - depthOffset
        - depthOffsetUncertainty
  - ContentType: geoidModel
    Comment: >
      The "quasiGeodiModel" and "heightCorrection" types are now incorporated
      in geoidModel (not sure this is appropriate for heightCorrection).
      So this needs a group attribute of geoidModelType?  
      Specification suggests "(ii) The type of geoid model may be included in a comment
      immediately following content type (see example E.2).".  But that does not get
      included in the GGXF definition.
    ParameterSets:
    - Parameters:
        - geoidHeight
        - geoidHeightUncertainty
  - ContentType: deviationsOfTheVertical
    ParameterSets:
    - Parameters:
        - deviationEast
        - deviationNorth
        - deviationEastUncertainty
        - deviationNorthUncertainty
    - Parameters:
        - deviationEastGeoid
        - deviationNorthGeoid
        - deviationEastGeoidUncertainty
        - deviationNorthGeoidUncertainty
  - ContentType: hydroidModel
    Comment:
      Should each type of tidal surface be a different parameter, rather than having "heightOffset" as a parameter
      (or (eg) surface height ) and the surface type as parameter.  Possible use case is a single grid with
      more than one surface defined at each grid node.

      Should the hydroidModel also support a parameter depthOffset
    Attributes:
      Group:
        - AttributeName: tidalSurface
          Type: [CD, HAT, HW, HHWLT, ISLW, LAT, LW, LLWLT, MHHW, MHW, MHWST, MLLW, MLW, MLWST, MLLWST, MSL ]
    ParameterSets:
    - Parameters:
        - heightOffset
        - heightOffsetUncertainty
  - ContentType: velocityModel
    ParameterSets:
    - Parameters:
        - velocityEast
        - velocityNorth
        - velocityEastUncertainty
        - velocityNorthUncertainty
    - Parameters:
        - velocityEast
        - velocityNorth
        - velocityUp
        - velocityEastUncertainty
        - velocityNorthUncertainty
        - velocityUpUncertainty
    - Parameters:
        - velocityUp
        - velocityUpUncertainty
    - Parameters:
        - velocityX
        - velocityY
        - velocityZ
        - velocityXUncertainty
        - velocityYUncertainty
        - velocityZUncertainty
  - ContentType: deformationModel
    Attributes:
      Group:
        - AttributeName: timeFunctions
          Type: list
    Comment: >
      Not sure about uncertainty - under discussion.
      Makes no sense to have displacementEastUncertainty, displacementNorthUncertainty without accounting for correlation
      Arguably also for adding vertical
      Arguably for (likely large) correlation between nodes
      Proposed attributes are reasonable simplification I think.
      For consistency with other models though would use displacementEastUncertainty, displacmentNorthUncertainty, displacementUpUncertainty
    ParameterSets:
    - Parameters:
        - displacementEast
        - displacementNorth
        - displacementUp
        - horizontalDisplacementUncertainty
        - verticalDisplacementUncertainty
    - Parameters:
        - displacementEast
        - displacementNorth
        - horizontalDisplacementUncertainty
    - Parameters:
        - displacementUp
        - verticalDisplacementUncertainty
